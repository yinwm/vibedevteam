# 模拟运行链路检查

从 BIZ 出发（可选），模拟完整开发链路，发现隐藏问题。

## 核心链路

```
项目级 BIZ → Epic 级 BIZ（可选）→ PRD → STORY → TECH → TASK → 验收 → 上线
                    ↓                    ↓         ↓       ↓
                   Epic 业务背景         需求      接口    实现
```

**说明**：
- 项目级 BIZ：所有 Epic 共享的业务方向
- Epic 级 BIZ：可选，复杂 Epic 才需要
- 简单 Epic 可以从 PRD 开始

## 检查链路

### 0. BIZ → PRD（可选）

**问题**：如果有 Epic 级 biz-overview，PRD 是否能追溯到 BIZ？

**检查**：
- PRD 的"背景与动机"是否对应 BIZ 的痛点分析？
- PRD 的"目标与成功标准"是否对应 BIZ 的业务目标？
- PRD 的"In/Out"是否对应 BIZ 的范围？

**失败模式**：
- PRD 和 BIZ 的目标不一致
- PRD 的范围超出 BIZ 定义
- BIZ 中提到的痛点在 PRD 中没有体现

**跳过条件**：
- 如果没有 Epic 级 biz-overview（`docs/{{EPIC_DIR}}/biz/BIZ-E-{{EPIC_ID}}-v0.md`），跳过此检查

### 1. PRD → STORY

**问题**：STORY 是否能在 PRD 中找到需求来源？

**检查**：
- STORY 的功能是否在 PRD 的 F* 章节有描述？
- PRD 的 AC 是否能追溯到 STORY？

**失败模式**：
- STORY 凭空出现，没有需求来源
- PRD 描述和 STORY 实现不一致

### 2. STORY → TECH

**问题**：STORY 需要的接口，TECH 是否定义了？

**检查**：
- STORY 提到的接口在 TECH 中是否有契约？
- TECH 的 API 定义是否覆盖 STORY 的所有场景？

**失败模式**：
- STORY 提到"调用群列表接口"，TECH 没有定义
- TECH 定义的 API 和 STORY 需求不匹配

### 3. STORY → TASK

**问题**：STORY 的 AC 是否能拆成可执行的 TASK？

**检查**：
- STORY 的每个 AC 是否对应至少一个 TASK？
- TASK 边界是否清晰？有没有重复或遗漏？

**失败模式**：
- AC 无法拆成 TASK（太大或太模糊）
- TASK 重复覆盖同一个 AC
- 遗漏部分 AC

### 4. TASK 依赖

**问题**：TASK 之间的依赖是否合理？

**检查**：
- 是否有循环依赖？
- 硬依赖和接口依赖是否正确标注？
- 并行度是否最大化？

**失败模式**：
- A 依赖 B，B 依赖 A（循环）
- 应该并行的任务被串行化

### 5. TASK 验收 → STORY AC

**问题**：TASK 的验收标准是否覆盖 STORY 的 AC？

**检查**：
- 每个 STORY AC 是否有对应的 TASK 验收？
- 验收标准是否可测试？

**失败模式**：
- STORY AC 没有对应的 TASK 验收
- 验收标准太模糊，无法判断是否通过

### 6. 真流程验证

**问题**：TASK 完成后的真流程是否能跑通？

**检查**：
- 是否需要 mock 数据？
- 是否需要前置任务完成？
- 环境依赖是什么？

**失败模式**：
- 依赖未完成的前置任务
- 需要 mock 数据才能验证
