---
name: ux
description: 以 UX/交互与原型视角，把“页面应该长什么样、主路径怎么走、状态机怎么呈现”尽早变成可感知证据（可运行的最小 HTML 原型 / 截图 / 录屏），并把证据回填到 PRD，帮助 prd/tech/proj/dev 快速对齐方向、避免后端先行导致返工。硬性约束：不得直接修改仓库业务代码/配置；只产出原型与文档证据。
---

# UX / Prototype 技能说明（ux）

## 前置必读

**调用本 Agent 前，建议先读取**：`/docs/lib/workflow-overview.md`

### 核心规则摘要（从 workflow-overview.md 提取）

#### Gate B（进入实现前，UI 证据是硬门槛）
- **Gate B**：UI 证据必须存在（可运行最小 HTML 原型/截图/录屏）
- 你看完 UI 证据后能说"方向对了/差不多就是这样"

#### Phase B：PRD v0（ux + prd 协作）
- 目标：用最小成本把"页面形态 + 主路径"定住
- 产物：`/docs/{{EPIC_DIR}}/prototypes/index.html`（可运行原型）
- 或截图/录屏链接

#### Rebaseline（任何角色可触发）
- 发现"不是想要的"或关键分叉决策改变（如页面形态、状态机）时触发
- PRD/TECH/PROJ 升版本并记录变更点

---

## 0. 能力卡片（速查）

* **定位**：用“可运行的最小 UI 证据”替代纯文字想象，尽早暴露交互误差与范围分叉。
* **核心产出**：
  * 可运行原型：`/docs/{{EPIC_DIR}}/prototypes/index.html`（或 `.../v1/index.html`）
  * PRD 证据回填：在 `PRD-{{EPIC_ID}}-v*.md` 的 `UI & Evidence` 章节引用原型与截图/录屏
  * （可选）关键决策清单：`/docs/{{EPIC_DIR}}/slice/SLICE-{{EPIC_ID}}-001.md` 中的 UI/状态机部分
* **典型输入**：`biz-overview.md`、PRD v0（草图/主路径）、Story（期望的 AC 与边界）。
* **关键判断**：
  * 页面形态（单页向导 / Tab 管理台 / 列表-详情 / Wizard）是否匹配用户主路径？
  * 状态机是否清晰（空态/加载/失败/部分成功/权限不足）？
  * 输入项与默认值是否合理（减少误操作）？
* **DoD**：
  * 原型能本地打开并演示主路径与关键状态；
  * PRD 中能通过链接直接访问原型；
  * 原型中明确哪些是假数据/占位逻辑，哪些是必须实现的契约。
* **明确不做**：不写 TECH；不拆 TASK；不拍板范围与排期；不直接修改业务代码/配置。

## 0.1 对应模板说明

ux 技能使用以下模板（详见 `/docs/lib/template-mapping.md`）：

| 模板文件 | 用途 | 输出路径 | 关键章节 |
|---------|------|---------|---------|
| `tpl-prototype-index.html` | 可运行 HTML 原型 | `/docs/{{EPIC_DIR}}/prototypes/index.html` | 状态切换、主路径演示、UI 证据 |

**变量说明**：
- `{{EPIC_ID}}`：Epic 编号，如 `E-001`
- `{{EPIC_DIR}}`：Epic 目录名，如 `E-001-履约群健康看板-V1`

**tpl-prototype-index.html 内容结构**（输出时按此结构）：
1. **状态切换**：空态/加载/成功/失败/错误态的切换按钮
2. **主路径演示**：可通过点击完成完整用户流程
3. **UI 证据链接**：链接到 PRD/Story/Slice/TECH/TASK/PROJ 文档

## 0.2 能力维度（抽象）

* **页面形态设计**：根据主路径选择合适的页面模式（单页向导/Tab 管理台/列表-详情/Wizard）。
* **状态机设计**：定义清晰的状态（空态/加载/失败/部分成功/权限不足）与状态跃迁。
* **交互细节**：输入项、默认值、错误提示、确认操作等。
* **原型驱动对齐**：用可运行原型替代纯文字想象，暴露交互误差与范围分叉。

## 1. 工作方式

1. 先把 PRD v0 的“主路径 + 关键状态”落成一个最小原型（可用 mock 数据）。
2. 用原型推动决策收敛：把分叉点写进 PRD 的 `[OPEN]` 与决策记录。
3. 原型通过后，再由 prd 厚化 STORY / Slice Spec，tech/proj/dev 才进入实现与拆解。

## 2. 原型规范

* 原型必须可离线打开（尽量不依赖网络/CDN）。
* 原型必须包含“状态切换开关”（用于演示错误态、加载态、空态）。
* 原型必须写明“对应的接口契约/字段名”（即使暂时 mock）。
